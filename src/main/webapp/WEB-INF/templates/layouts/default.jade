- import org.joda.time.DateTime
- import ru.meridor.website.ui.PageCategory
- import ru.meridor.website.ui.PageCategory._
- import ru.meridor.website.processing.RequestUtils._

-@ val title: String
-@ val keywords: String
-@ val description: String
-@ val pageCategory: PageCategory = Home
-@ val pageTitleCategory: String = PageCategory.getPageTitleCategory(pageCategory)
-@ val body: String

!!! 5
html(lang='en' itemscope itemtype='http://schema.org/WebPage')
    head
        -# Meta-tags
        meta(charset='utf-8')
        meta(http-equiv='content-type' content='text/html; charset=utf-8')
        meta{:name => 'viewport', :content => 'width=device-width initial-scale=1.0'}
        meta{:name => 'keywords', :content => keywords}
        meta{:name => 'description', :content => description}
        meta{:name => 'author', :content => 'Компания "Меридор"'}
        meta{:property => "og:site_name", :content => 'Компания "Меридор"'}
        - val finalTitle = "Компания \"Меридор\" | " + {if (pageTitleCategory.length() > 0) pageTitleCategory + " | " else "" } + title
        meta{:property => "og:title", :content => finalTitle}
        - val ogType = if (isRootUrl(absoluteUrl)) "website" else "article.section"
        meta{:property => "og:type", :content => ogType}
        meta{:property => "og:description", :content => description}
        meta{:property => "og:url", :content => absoluteUrl}
        -val logoAbsoluteUrl = absoluteUrlFromRelative("/img/logo.png")
        meta{:property => "og:image", :content => logoAbsoluteUrl}
        meta{:name => "google-site-verification", :content => "v-BvO6GqQME1eOR3XSxqwYDg5_f1CSO-m_t_gxG7Rjk"}
        title= finalTitle

        -# Stylesheets
        link{:href => '/css/bootstrap.min.css', :rel => 'stylesheet'}
        link{:href => '/css/bootstrap-responsive.min.css', :rel => 'stylesheet'}
        link{:href => '/css/style.css', :rel => 'stylesheet'}

        -# HTML5 shim, for IE6-8 support of HTML5 elements
        /[if lt IE 9]
            script(src='http://html5shiv.googlecode.com/svn/trunk/html5.js')

        -# Favicon
        link{:rel => 'apple-touch-icon-precomposed', :sizes => '144x144', :href => '/ico/apple-touch-icon-144-precomposed.png'}
        link{:rel => 'apple-touch-icon-precomposed', :sizes => '114x114', :href => '/ico/apple-touch-icon-114-precomposed.png'}
        link{:rel => 'apple-touch-icon-precomposed', :sizes => '72x72', :href => '/ico/apple-touch-icon-72-precomposed.png'}
        link{:rel => 'apple-touch-icon-precomposed', :href => '/ico/apple-touch-icon-57-precomposed.png'}
        link{:rel => 'shortcut icon', :href => '/ico/favicon.ico'}
    body
        -# Schema.org metadata
        .hidden
            span(itemprop="name")=title
            span(itemprop="description")=description

        -# Site header and navigation menu
        .masthead
            .container
                .row-fluid
                    .span3
                        a.logo(href='/')
                    .span6
                        ul.nav.nav-pills.main-nav
                            li{:class => {if (pageCategory.equals(Home)) "active" else ""}}
                                a(href='/') Главная
                            li{:class => {if (pageCategory.equals(Services)) "deeper active" else "deeper"}}
                                a Услуги
                                ul
                                    li
                                        a(href='/services/electrical-works') Электромонтажные работы
                                    li
                                        a(href='/services/husband-for-an-hour') Муж на час
                                    li
                                        a(href='/services/technical-maintenance') Техническое обслуживание
                                    li
                                        a(href='/services/lighting') Освещение и светодизайн
                                    li
                                        a(href='/services/electrical-appliances') Электроприборы
                                    li
                                        a(href='/services/telecommunication-technologies') Телекоммуникации
                            li{:class => {if (pageCategory.equals(Bundles)) "active" else ""}}
                                a(href='/bundles') Пакеты услуг
                            li{:class => {if (pageCategory.equals(Prices)) "active" else ""}}
                                a(href='/prices') Цены
                            li{:class => {if (pageCategory.equals(Contact)) "active" else ""}}
                                a(href='/contact') Контакты
                            -#li{:class => {if (pageCategory.equals(Articles)) "deeper active" else "deeper"}}
                            -#    a(href='javascript:void(0)') Прочти
                            -#    ul
                            -#        li
                            -#            a(href='/articles/electrical-tools') Инструмент электрика
                    .span3
                        .tell.pull-right
                            span (812) 929 89 96

        != body

        -# Site footer
        .footer(itemscope itemtype='http://schema.org/LocalBusiness')
            .container
                a.logo.pull-left(href='/')
                .pull-right.faddress
                    address
                        | ©
                        = String.valueOf(new DateTime().getYear())
                        | &nbsp;
                        a(href='/')
                            |ООО "
                            span(itemprop='name') Меридор
                            |"
                        br
                        span(itemprop='address' itemscope itemtype='http://schema.org/PostalAddress')
                            span(itemprop="postalCode") 195067
                            |, Россия,&nbsp;
                            span(itemprop="addressLocality") Санкт-Петербург
                            br
                            span(itemprop="streetAddress") ул. Бестужевская, д. 75, лит. А
                            span(itemprop="addressCountry" class="hidden") RU
                        br
                        span(itemprop="telephone") +7 812 929-89-96
                        br
                        a{:href => 'mailto:info@meridor.ru', :title => 'Нажмите, чтобы отправить нам электронное письмо'}
                            span(itemprop="email") info@meridor.ru
                        br
                        | Дизайн и верстка -&nbsp;
                        a(href='http://an-kor.net') an-kor.net
                ul.nav
                    li{:class => {if (pageCategory.equals(Home)) "active" else ""}}
                        a(href='/') Главная
                    li{:class => {if (pageCategory.equals(Bundles)) "active" else ""}}
                        a(href='/bundles') Пакеты услуг
                    li{:class => {if (pageCategory.equals(Prices)) "active" else ""}}
                        a(href='/prices') Цены
                    -# li{:class => {if (pageCategory.equals(Contact)) "active" else ""}}
                    -#    a(href='/contact') Контакты
        -# Yandex.Metrika counter
        script(type="text/javascript") (function (d, w, c) { (w[c] = w[c] || []).push(function() { try { w.yaCounter22343563 = new Ya.Metrika({id:22343563, webvisor:true, clickmap:true, trackLinks:true, accurateTrackBounce:true}); } catch(e) { } }); var n = d.getElementsByTagName("script")[0], s = d.createElement("script"), f = function () { n.parentNode.insertBefore(s, n); }; s.type = "text/javascript"; s.async = true; s.src = (d.location.protocol == "https:" ? "https:" : "http:") + "//mc.yandex.ru/metrika/watch.js"; if (w.opera == "[object Opera]") { d.addEventListener("DOMContentLoaded", f, false); } else { f(); } })(document, window, "yandex_metrika_callbacks");
        noscript
            div
                img(src="//mc.yandex.ru/watch/22343563" style="position:absolute; left:-9999px;" alt="")
        script(type="text/javascript") (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){(i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o), m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)})(window,document,'script','//www.google-analytics.com/analytics.js','ga'); ga('create', 'UA-44153703-1', 'meridor.ru'); ga('send', 'pageview');

        -# Javascript files
        script(src='/js/jquery-1.9.1.min.js')
        script(src='/js/jquery.easyModal.js')
        script(src='/js/bootstrap.min.js')
        script(src='/js/script.js')
        script(src='/js/calculator.js')
        script(src='/js/clientStorage.js')
        script(src='/js/order.js')
